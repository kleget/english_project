<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.0.4 (20251115.1723)
 -->
<!-- Pages: 1 -->
<svg width="11416pt" height="6483pt"
 viewBox="0.00 0.00 11416.00 6483.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(4.16667 4.16667) rotate(0) translate(36 1520)">
<polygon fill="white" stroke="none" points="-36,36 -36,-1520 2703.75,-1520 2703.75,36 -36,36"/>
<g id="clust1" class="cluster">
<title>cluster_database_aggregation</title>
<polygon fill="#dbeafe" stroke="#dbeafe" stroke-width="2" points="693.25,-447 693.25,-603 982.5,-603 982.5,-447 693.25,-447"/>
<text xml:space="preserve" text-anchor="middle" x="837.88" y="-585.7" font-family="Times New Roman,serif" font-size="14.00">database_aggregation</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_database_operations</title>
<polygon fill="#dbeafe" stroke="#dbeafe" stroke-width="2" points="1038.5,-8 1038.5,-559 2659.75,-559 2659.75,-8 1038.5,-8"/>
<text xml:space="preserve" text-anchor="middle" x="1849.12" y="-541.7" font-family="Times New Roman,serif" font-size="14.00">database_operations</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_detect_lang</title>
<polygon fill="#dbeafe" stroke="#dbeafe" stroke-width="2" points="8,-1314 8,-1391 364,-1391 364,-1314 8,-1314"/>
<text xml:space="preserve" text-anchor="middle" x="186" y="-1373.7" font-family="Times New Roman,serif" font-size="14.00">detect_lang</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_file_processing</title>
<polygon fill="#dbeafe" stroke="#dbeafe" stroke-width="2" points="738.25,-8 738.25,-358 937.5,-358 937.5,-8 738.25,-8"/>
<text xml:space="preserve" text-anchor="middle" x="837.88" y="-340.7" font-family="Times New Roman,serif" font-size="14.00">file_processing</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_lemmatize</title>
<polygon fill="#dbeafe" stroke="#dbeafe" stroke-width="2" points="2003.12,-731 2003.12,-1045 2582.5,-1045 2582.5,-731 2003.12,-731"/>
<text xml:space="preserve" text-anchor="middle" x="2292.81" y="-1027.7" font-family="Times New Roman,serif" font-size="14.00">lemmatize</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_main</title>
<polygon fill="#dbeafe" stroke="#dbeafe" stroke-width="2" points="9.12,-1053 9.12,-1306 2159.5,-1306 2159.5,-1053 9.12,-1053"/>
<text xml:space="preserve" text-anchor="middle" x="1084.31" y="-1288.7" font-family="Times New Roman,serif" font-size="14.00">main</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_text_analysis</title>
<polygon fill="#dbeafe" stroke="#dbeafe" stroke-width="2" points="753.25,-889 753.25,-1045 1837.25,-1045 1837.25,-889 753.25,-889"/>
<text xml:space="preserve" text-anchor="middle" x="1295.25" y="-1027.7" font-family="Times New Roman,serif" font-size="14.00">text_analysis</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_translation_utils</title>
<polygon fill="#dbeafe" stroke="#dbeafe" stroke-width="2" points="1462.5,-567 1462.5,-723 2302.5,-723 2302.5,-567 1462.5,-567"/>
<text xml:space="preserve" text-anchor="middle" x="1882.5" y="-705.7" font-family="Times New Roman,serif" font-size="14.00">translation_utils</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_legend</title>
<polygon fill="white" stroke="#e5e7eb" stroke-dasharray="5,2" points="140.38,-1399 140.38,-1476 564.12,-1476 564.12,-1399 140.38,-1399"/>
<text xml:space="preserve" text-anchor="middle" x="352.25" y="-1458.7" font-family="Times New Roman,serif" font-size="14.00">Legend</text>
</g>
<!-- database_aggregation.create_intersection_table -->
<g id="node1" class="node">
<title>database_aggregation.create_intersection_table</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M961.75,-491C961.75,-491 714,-491 714,-491 708,-491 702,-485 702,-479 702,-479 702,-467 702,-467 702,-461 708,-455 714,-455 714,-455 961.75,-455 961.75,-455 967.75,-455 973.75,-461 973.75,-467 973.75,-467 973.75,-479 973.75,-479 973.75,-485 967.75,-491 961.75,-491"/>
<text xml:space="preserve" text-anchor="middle" x="837.88" y="-475.5" font-family="Helvetica,sans-Serif" font-size="10.00">create_intersection_table(db_name, result_table)</text>
<text xml:space="preserve" text-anchor="middle" x="837.88" y="-463.5" font-family="Helvetica,sans-Serif" font-size="10.00">Создает таблицу пересечения слов из всех таблиц БД.</text>
</g>
<!-- database_operations.create_intersection_table_query -->
<g id="node3" class="node">
<title>database_operations.create_intersection_table_query</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1356.5,-368C1356.5,-368 1088.5,-368 1088.5,-368 1082.5,-368 1076.5,-362 1076.5,-356 1076.5,-356 1076.5,-344 1076.5,-344 1076.5,-338 1082.5,-332 1088.5,-332 1088.5,-332 1356.5,-332 1356.5,-332 1362.5,-332 1368.5,-338 1368.5,-344 1368.5,-344 1368.5,-356 1368.5,-356 1368.5,-362 1362.5,-368 1356.5,-368"/>
<text xml:space="preserve" text-anchor="middle" x="1222.5" y="-352.5" font-family="Helvetica,sans-Serif" font-size="10.00">create_intersection_table_query(tables, db_path, result_table)</text>
<text xml:space="preserve" text-anchor="middle" x="1222.5" y="-340.5" font-family="Helvetica,sans-Serif" font-size="10.00">Выполняет создание таблицы пересечения в указанной БД.</text>
</g>
<!-- database_aggregation.create_intersection_table&#45;&gt;database_operations.create_intersection_table_query -->
<g id="edge1" class="edge">
<title>database_aggregation.create_intersection_table&#45;&gt;database_operations.create_intersection_table_query</title>
<path fill="none" stroke="#0f172a" stroke-width="1.4" d="M943.75,-454.32C943.75,-419.91 943.75,-350 943.75,-350 943.75,-350 1064.07,-350 1064.07,-350"/>
<polygon fill="#0f172a" stroke="#0f172a" stroke-width="1.4" points="1064.07,-353.5 1074.07,-350 1064.07,-346.5 1064.07,-353.5"/>
</g>
<!-- database_aggregation.create_union_table -->
<g id="node2" class="node">
<title>database_aggregation.create_union_table</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M962.5,-570C962.5,-570 713.25,-570 713.25,-570 707.25,-570 701.25,-564 701.25,-558 701.25,-558 701.25,-546 701.25,-546 701.25,-540 707.25,-534 713.25,-534 713.25,-534 962.5,-534 962.5,-534 968.5,-534 974.5,-540 974.5,-546 974.5,-546 974.5,-558 974.5,-558 974.5,-564 968.5,-570 962.5,-570"/>
<text xml:space="preserve" text-anchor="middle" x="837.88" y="-554.5" font-family="Helvetica,sans-Serif" font-size="10.00">create_union_table(db_name, result_table)</text>
<text xml:space="preserve" text-anchor="middle" x="837.88" y="-542.5" font-family="Helvetica,sans-Serif" font-size="10.00">Создает таблицу объединения всех слов из таблиц БД.</text>
</g>
<!-- database_operations.create_union_table_query -->
<g id="node7" class="node">
<title>database_operations.create_union_table_query</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1386.5,-447C1386.5,-447 1058.5,-447 1058.5,-447 1052.5,-447 1046.5,-441 1046.5,-435 1046.5,-435 1046.5,-423 1046.5,-423 1046.5,-417 1052.5,-411 1058.5,-411 1058.5,-411 1386.5,-411 1386.5,-411 1392.5,-411 1398.5,-417 1398.5,-423 1398.5,-423 1398.5,-435 1398.5,-435 1398.5,-441 1392.5,-447 1386.5,-447"/>
<text xml:space="preserve" text-anchor="middle" x="1222.5" y="-431.5" font-family="Helvetica,sans-Serif" font-size="10.00">create_union_table_query(tables, db_path, result_table, translation_threshold)</text>
<text xml:space="preserve" text-anchor="middle" x="1222.5" y="-419.5" font-family="Helvetica,sans-Serif" font-size="10.00">Выполняет создание таблицы объединения в указанной БД.</text>
</g>
<!-- database_aggregation.create_union_table&#45;&gt;database_operations.create_union_table_query -->
<g id="edge2" class="edge">
<title>database_aggregation.create_union_table&#45;&gt;database_operations.create_union_table_query</title>
<path fill="none" stroke="#0f172a" stroke-width="1.4" d="M975.14,-552C1030.59,-552 1081.75,-552 1081.75,-552 1081.75,-552 1081.75,-459.8 1081.75,-459.8"/>
<polygon fill="#0f172a" stroke="#0f172a" stroke-width="1.4" points="1085.25,-459.8 1081.75,-449.8 1078.25,-459.8 1085.25,-459.8"/>
</g>
<!-- database_operations.create_processed_books_table -->
<g id="node4" class="node">
<title>database_operations.create_processed_books_table</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1762.88,-52C1762.88,-52 1590.12,-52 1590.12,-52 1584.12,-52 1578.12,-46 1578.12,-40 1578.12,-40 1578.12,-28 1578.12,-28 1578.12,-22 1584.12,-16 1590.12,-16 1590.12,-16 1762.88,-16 1762.88,-16 1768.88,-16 1774.88,-22 1774.88,-28 1774.88,-28 1774.88,-40 1774.88,-40 1774.88,-46 1768.88,-52 1762.88,-52"/>
<text xml:space="preserve" text-anchor="middle" x="1676.5" y="-30.5" font-family="Helvetica,sans-Serif" font-size="10.00">create_processed_books_table(db_name)</text>
</g>
<!-- database_operations.create_table -->
<g id="node5" class="node">
<title>database_operations.create_table</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1750.12,-210C1750.12,-210 1602.88,-210 1602.88,-210 1596.88,-210 1590.88,-204 1590.88,-198 1590.88,-198 1590.88,-186 1590.88,-186 1590.88,-180 1596.88,-174 1602.88,-174 1602.88,-174 1750.12,-174 1750.12,-174 1756.12,-174 1762.12,-180 1762.12,-186 1762.12,-186 1762.12,-198 1762.12,-198 1762.12,-204 1756.12,-210 1750.12,-210"/>
<text xml:space="preserve" text-anchor="middle" x="1676.5" y="-188.5" font-family="Helvetica,sans-Serif" font-size="10.00">create_table(db_name, table_name)</text>
</g>
<!-- database_operations.create_translations_table -->
<g id="node6" class="node">
<title>database_operations.create_translations_table</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1783.88,-368C1783.88,-368 1569.12,-368 1569.12,-368 1563.12,-368 1557.12,-362 1557.12,-356 1557.12,-356 1557.12,-344 1557.12,-344 1557.12,-338 1563.12,-332 1569.12,-332 1569.12,-332 1783.88,-332 1783.88,-332 1789.88,-332 1795.88,-338 1795.88,-344 1795.88,-344 1795.88,-356 1795.88,-356 1795.88,-362 1789.88,-368 1783.88,-368"/>
<text xml:space="preserve" text-anchor="middle" x="1676.5" y="-352.5" font-family="Helvetica,sans-Serif" font-size="10.00">create_translations_table(cursor, table_name)</text>
<text xml:space="preserve" text-anchor="middle" x="1676.5" y="-340.5" font-family="Helvetica,sans-Serif" font-size="10.00">Создает таблицу для хранения переводов слов.</text>
</g>
<!-- database_operations.create_union_table_query&#45;&gt;database_operations.create_translations_table -->
<g id="edge8" class="edge">
<title>database_operations.create_union_table_query&#45;&gt;database_operations.create_translations_table</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M1393.75,-410.68C1393.75,-387.34 1393.75,-350 1393.75,-350 1393.75,-350 1544.77,-350 1544.77,-350"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="1544.77,-353.5 1554.77,-350 1544.77,-346.5 1544.77,-353.5"/>
</g>
<!-- database_operations.get_cached_translations -->
<g id="node8" class="node">
<title>database_operations.get_cached_translations</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1819.88,-447C1819.88,-447 1533.12,-447 1533.12,-447 1527.12,-447 1521.12,-441 1521.12,-435 1521.12,-435 1521.12,-423 1521.12,-423 1521.12,-417 1527.12,-411 1533.12,-411 1533.12,-411 1819.88,-411 1819.88,-411 1825.88,-411 1831.88,-417 1831.88,-423 1831.88,-423 1831.88,-435 1831.88,-435 1831.88,-441 1825.88,-447 1819.88,-447"/>
<text xml:space="preserve" text-anchor="middle" x="1676.5" y="-431.5" font-family="Helvetica,sans-Serif" font-size="10.00">get_cached_translations(words, use_global_cache)</text>
<text xml:space="preserve" text-anchor="middle" x="1676.5" y="-419.5" font-family="Helvetica,sans-Serif" font-size="10.00">Получает кэшированные переводы из централизованного кэша.</text>
</g>
<!-- database_operations.create_union_table_query&#45;&gt;database_operations.get_cached_translations -->
<g id="edge7" class="edge">
<title>database_operations.create_union_table_query&#45;&gt;database_operations.get_cached_translations</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M1399,-425.4C1399,-425.4 1508.8,-425.4 1508.8,-425.4"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="1508.8,-428.9 1518.8,-425.4 1508.8,-421.9 1508.8,-428.9"/>
</g>
<!-- database_operations.pick_popular_words -->
<g id="node15" class="node">
<title>database_operations.pick_popular_words</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1835.62,-526C1835.62,-526 1517.38,-526 1517.38,-526 1511.38,-526 1505.38,-520 1505.38,-514 1505.38,-514 1505.38,-502 1505.38,-502 1505.38,-496 1511.38,-490 1517.38,-490 1517.38,-490 1835.62,-490 1835.62,-490 1841.62,-490 1847.62,-496 1847.62,-502 1847.62,-502 1847.62,-514 1847.62,-514 1847.62,-520 1841.62,-526 1835.62,-526"/>
<text xml:space="preserve" text-anchor="middle" x="1676.5" y="-504.5" font-family="Helvetica,sans-Serif" font-size="10.00">pick_popular_words(data, coverage_ratio, min_ratio, max_ratio, min_count)</text>
</g>
<!-- database_operations.create_union_table_query&#45;&gt;database_operations.pick_popular_words -->
<g id="edge5" class="edge">
<title>database_operations.create_union_table_query&#45;&gt;database_operations.pick_popular_words</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M1399.1,-432.6C1457.45,-432.6 1507.75,-432.6 1507.75,-432.6 1507.75,-432.6 1507.75,-477.55 1507.75,-477.55"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="1504.25,-477.55 1507.75,-487.55 1511.25,-477.55 1504.25,-477.55"/>
</g>
<!-- database_operations.save_to_global_translations_cache -->
<g id="node16" class="node">
<title>database_operations.save_to_global_translations_cache</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1827.75,-289C1827.75,-289 1525.25,-289 1525.25,-289 1519.25,-289 1513.25,-283 1513.25,-277 1513.25,-277 1513.25,-265 1513.25,-265 1513.25,-259 1519.25,-253 1525.25,-253 1525.25,-253 1827.75,-253 1827.75,-253 1833.75,-253 1839.75,-259 1839.75,-265 1839.75,-265 1839.75,-277 1839.75,-277 1839.75,-283 1833.75,-289 1827.75,-289"/>
<text xml:space="preserve" text-anchor="middle" x="1676.5" y="-273.5" font-family="Helvetica,sans-Serif" font-size="10.00">save_to_global_translations_cache(translations)</text>
<text xml:space="preserve" text-anchor="middle" x="1676.5" y="-261.5" font-family="Helvetica,sans-Serif" font-size="10.00">Сохраняет переводы в централизованный кэш в ОБА направления.</text>
</g>
<!-- database_operations.create_union_table_query&#45;&gt;database_operations.save_to_global_translations_cache -->
<g id="edge6" class="edge">
<title>database_operations.create_union_table_query&#45;&gt;database_operations.save_to_global_translations_cache</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M1399.19,-418.2C1461.68,-418.2 1516.75,-418.2 1516.75,-418.2 1516.75,-418.2 1516.75,-301.46 1516.75,-301.46"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="1520.25,-301.46 1516.75,-291.46 1513.25,-301.46 1520.25,-301.46"/>
</g>
<!-- translation_utils.translate_batch -->
<g id="node48" class="node">
<title>translation_utils.translate_batch</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1870.5,-611C1870.5,-611 1482.5,-611 1482.5,-611 1476.5,-611 1470.5,-605 1470.5,-599 1470.5,-599 1470.5,-587 1470.5,-587 1470.5,-581 1476.5,-575 1482.5,-575 1482.5,-575 1870.5,-575 1870.5,-575 1876.5,-575 1882.5,-581 1882.5,-587 1882.5,-587 1882.5,-599 1882.5,-599 1882.5,-605 1876.5,-611 1870.5,-611"/>
<text xml:space="preserve" text-anchor="middle" x="1676.5" y="-595.5" font-family="Helvetica,sans-Serif" font-size="10.00">translate_batch(words, batch_size)</text>
<text xml:space="preserve" text-anchor="middle" x="1676.5" y="-583.5" font-family="Helvetica,sans-Serif" font-size="10.00">Переводит список слов пакетно, группируя по направлению перевода (ru→en, en→ru).</text>
</g>
<!-- database_operations.create_union_table_query&#45;&gt;translation_utils.translate_batch -->
<g id="edge4" class="edge">
<title>database_operations.create_union_table_query&#45;&gt;translation_utils.translate_batch</title>
<path fill="none" stroke="#0f172a" stroke-width="1.4" d="M1399.06,-439.8C1447.88,-439.8 1487.75,-439.8 1487.75,-439.8 1487.75,-439.8 1487.75,-562.4 1487.75,-562.4"/>
<polygon fill="#0f172a" stroke="#0f172a" stroke-width="1.4" points="1484.25,-562.4 1487.75,-572.4 1491.25,-562.4 1484.25,-562.4"/>
</g>
<!-- database_operations.get_global_translations_cache_path -->
<g id="node9" class="node">
<title>database_operations.get_global_translations_cache_path</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M2639.75,-372C2639.75,-372 2378.5,-372 2378.5,-372 2372.5,-372 2366.5,-366 2366.5,-360 2366.5,-360 2366.5,-348 2366.5,-348 2366.5,-342 2372.5,-336 2378.5,-336 2378.5,-336 2639.75,-336 2639.75,-336 2645.75,-336 2651.75,-342 2651.75,-348 2651.75,-348 2651.75,-360 2651.75,-360 2651.75,-366 2645.75,-372 2639.75,-372"/>
<text xml:space="preserve" text-anchor="middle" x="2509.12" y="-356.5" font-family="Helvetica,sans-Serif" font-size="10.00">get_global_translations_cache_path()</text>
<text xml:space="preserve" text-anchor="middle" x="2509.12" y="-344.5" font-family="Helvetica,sans-Serif" font-size="10.00">Возвращает путь к централизованной БД кэша переводов.</text>
</g>
<!-- database_operations.get_cached_translations&#45;&gt;database_operations.get_global_translations_cache_path -->
<g id="edge10" class="edge">
<title>database_operations.get_cached_translations&#45;&gt;database_operations.get_global_translations_cache_path</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M1832.28,-429C2046.21,-429 2404.75,-429 2404.75,-429 2404.75,-429 2404.75,-384.36 2404.75,-384.36"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="2408.25,-384.36 2404.75,-374.36 2401.25,-384.36 2408.25,-384.36"/>
</g>
<!-- database_operations.init_global_translations_cache -->
<g id="node11" class="node">
<title>database_operations.init_global_translations_cache</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M2251,-372C2251,-372 1998,-372 1998,-372 1992,-372 1986,-366 1986,-360 1986,-360 1986,-348 1986,-348 1986,-342 1992,-336 1998,-336 1998,-336 2251,-336 2251,-336 2257,-336 2263,-342 2263,-348 2263,-348 2263,-360 2263,-360 2263,-366 2257,-372 2251,-372"/>
<text xml:space="preserve" text-anchor="middle" x="2124.5" y="-356.5" font-family="Helvetica,sans-Serif" font-size="10.00">init_global_translations_cache()</text>
<text xml:space="preserve" text-anchor="middle" x="2124.5" y="-344.5" font-family="Helvetica,sans-Serif" font-size="10.00">Инициализирует централизованную БД кэша переводов.</text>
</g>
<!-- database_operations.get_cached_translations&#45;&gt;database_operations.init_global_translations_cache -->
<g id="edge11" class="edge">
<title>database_operations.get_cached_translations&#45;&gt;database_operations.init_global_translations_cache</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M1813.75,-410.54C1813.75,-389.31 1813.75,-357.33 1813.75,-357.33 1813.75,-357.33 1973.67,-357.33 1973.67,-357.33"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="1973.67,-360.83 1983.67,-357.33 1973.67,-353.83 1973.67,-360.83"/>
</g>
<!-- database_operations.get_word_with_translation -->
<g id="node10" class="node">
<title>database_operations.get_word_with_translation</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1377.88,-210C1377.88,-210 1067.12,-210 1067.12,-210 1061.12,-210 1055.12,-204 1055.12,-198 1055.12,-198 1055.12,-186 1055.12,-186 1055.12,-180 1061.12,-174 1067.12,-174 1067.12,-174 1377.88,-174 1377.88,-174 1383.88,-174 1389.88,-180 1389.88,-186 1389.88,-186 1389.88,-198 1389.88,-198 1389.88,-204 1383.88,-210 1377.88,-210"/>
<text xml:space="preserve" text-anchor="middle" x="1222.5" y="-194.5" font-family="Helvetica,sans-Serif" font-size="10.00">get_word_with_translation(cursor, word, union_table)</text>
<text xml:space="preserve" text-anchor="middle" x="1222.5" y="-182.5" font-family="Helvetica,sans-Serif" font-size="10.00">Возвращает слово и перевод из union_table + translations (если есть).</text>
</g>
<!-- database_operations.init_global_translations_cache&#45;&gt;database_operations.get_global_translations_cache_path -->
<g id="edge9" class="edge">
<title>database_operations.init_global_translations_cache&#45;&gt;database_operations.get_global_translations_cache_path</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M2263.63,-354C2263.63,-354 2353.99,-354 2353.99,-354"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="2353.99,-357.5 2363.99,-354 2353.99,-350.5 2353.99,-357.5"/>
</g>
<!-- database_operations.insert_many_into_table -->
<g id="node12" class="node">
<title>database_operations.insert_many_into_table</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1332.12,-289C1332.12,-289 1112.88,-289 1112.88,-289 1106.88,-289 1100.88,-283 1100.88,-277 1100.88,-277 1100.88,-265 1100.88,-265 1100.88,-259 1106.88,-253 1112.88,-253 1112.88,-253 1332.12,-253 1332.12,-253 1338.12,-253 1344.12,-259 1344.12,-265 1344.12,-265 1344.12,-277 1344.12,-277 1344.12,-283 1338.12,-289 1332.12,-289"/>
<text xml:space="preserve" text-anchor="middle" x="1222.5" y="-267.5" font-family="Helvetica,sans-Serif" font-size="10.00">insert_many_into_table(db_name, table_name, data)</text>
</g>
<!-- database_operations.insert_many_into_table&#45;&gt;database_operations.create_table -->
<g id="edge3" class="edge">
<title>database_operations.insert_many_into_table&#45;&gt;database_operations.create_table</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M1344.74,-271C1423.31,-271 1510.75,-271 1510.75,-271 1510.75,-271 1510.75,-192 1510.75,-192 1510.75,-192 1578.41,-192 1578.41,-192"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="1578.41,-195.5 1588.41,-192 1578.41,-188.5 1578.41,-195.5"/>
</g>
<!-- database_operations.is_book_processed -->
<g id="node13" class="node">
<title>database_operations.is_book_processed</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1352.75,-52C1352.75,-52 1092.25,-52 1092.25,-52 1086.25,-52 1080.25,-46 1080.25,-40 1080.25,-40 1080.25,-28 1080.25,-28 1080.25,-22 1086.25,-16 1092.25,-16 1092.25,-16 1352.75,-16 1352.75,-16 1358.75,-16 1364.75,-22 1364.75,-28 1364.75,-28 1364.75,-40 1364.75,-40 1364.75,-46 1358.75,-52 1352.75,-52"/>
<text xml:space="preserve" text-anchor="middle" x="1222.5" y="-36.5" font-family="Helvetica,sans-Serif" font-size="10.00">is_book_processed(db_name, book_path)</text>
<text xml:space="preserve" text-anchor="middle" x="1222.5" y="-24.5" font-family="Helvetica,sans-Serif" font-size="10.00">Return True if the book_path is already marked as processed.</text>
</g>
<!-- database_operations.is_book_processed&#45;&gt;database_operations.create_processed_books_table -->
<g id="edge14" class="edge">
<title>database_operations.is_book_processed&#45;&gt;database_operations.create_processed_books_table</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M1365.21,-34C1365.21,-34 1565.7,-34 1565.7,-34"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="1565.7,-37.5 1575.7,-34 1565.7,-30.5 1565.7,-37.5"/>
</g>
<!-- database_operations.mark_book_as_processed -->
<g id="node14" class="node">
<title>database_operations.mark_book_as_processed</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1352,-131C1352,-131 1093,-131 1093,-131 1087,-131 1081,-125 1081,-119 1081,-119 1081,-107 1081,-107 1081,-101 1087,-95 1093,-95 1093,-95 1352,-95 1352,-95 1358,-95 1364,-101 1364,-107 1364,-107 1364,-119 1364,-119 1364,-125 1358,-131 1352,-131"/>
<text xml:space="preserve" text-anchor="middle" x="1222.5" y="-115.5" font-family="Helvetica,sans-Serif" font-size="10.00">mark_book_as_processed(db_name, book_path, word_count)</text>
<text xml:space="preserve" text-anchor="middle" x="1222.5" y="-103.5" font-family="Helvetica,sans-Serif" font-size="10.00">Record completion of a book with its word_count.</text>
</g>
<!-- database_operations.mark_book_as_processed&#45;&gt;database_operations.create_processed_books_table -->
<g id="edge15" class="edge">
<title>database_operations.mark_book_as_processed&#45;&gt;database_operations.create_processed_books_table</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M1364.62,-113C1465.38,-113 1582.75,-113 1582.75,-113 1582.75,-113 1582.75,-64.14 1582.75,-64.14"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="1586.25,-64.14 1582.75,-54.14 1579.25,-64.14 1586.25,-64.14"/>
</g>
<!-- database_operations.save_to_global_translations_cache&#45;&gt;database_operations.get_global_translations_cache_path -->
<g id="edge12" class="edge">
<title>database_operations.save_to_global_translations_cache&#45;&gt;database_operations.get_global_translations_cache_path</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M1840.43,-271C2082.89,-271 2508.75,-271 2508.75,-271 2508.75,-271 2508.75,-323.76 2508.75,-323.76"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="2505.25,-323.76 2508.75,-333.76 2512.25,-323.76 2505.25,-323.76"/>
</g>
<!-- database_operations.save_to_global_translations_cache&#45;&gt;database_operations.init_global_translations_cache -->
<g id="edge13" class="edge">
<title>database_operations.save_to_global_translations_cache&#45;&gt;database_operations.init_global_translations_cache</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M1835.75,-289.32C1835.75,-311.71 1835.75,-346.67 1835.75,-346.67 1835.75,-346.67 1973.81,-346.67 1973.81,-346.67"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="1973.81,-350.17 1983.81,-346.67 1973.81,-343.17 1973.81,-350.17"/>
</g>
<!-- database_operations.select_from_table -->
<g id="node17" class="node">
<title>database_operations.select_from_table</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1299.12,-526C1299.12,-526 1145.88,-526 1145.88,-526 1139.88,-526 1133.88,-520 1133.88,-514 1133.88,-514 1133.88,-502 1133.88,-502 1133.88,-496 1139.88,-490 1145.88,-490 1145.88,-490 1299.12,-490 1299.12,-490 1305.12,-490 1311.12,-496 1311.12,-502 1311.12,-502 1311.12,-514 1311.12,-514 1311.12,-520 1305.12,-526 1299.12,-526"/>
<text xml:space="preserve" text-anchor="middle" x="1222.5" y="-504.5" font-family="Helvetica,sans-Serif" font-size="10.00">select_from_table(db_name, request)</text>
</g>
<!-- detect_lang.detect_main_language -->
<g id="node18" class="node">
<title>detect_lang.detect_main_language</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M344,-1358C344,-1358 28,-1358 28,-1358 22,-1358 16,-1352 16,-1346 16,-1346 16,-1334 16,-1334 16,-1328 22,-1322 28,-1322 28,-1322 344,-1322 344,-1322 350,-1322 356,-1328 356,-1334 356,-1334 356,-1346 356,-1346 356,-1352 350,-1358 344,-1358"/>
<text xml:space="preserve" text-anchor="middle" x="186" y="-1336.5" font-family="Helvetica,sans-Serif" font-size="10.00">detect_main_language(file_path, num_samples, sample_size, model_path)</text>
</g>
<!-- file_processing.get_all_folders -->
<g id="node19" class="node">
<title>file_processing.get_all_folders</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M917.5,-210C917.5,-210 758.25,-210 758.25,-210 752.25,-210 746.25,-204 746.25,-198 746.25,-198 746.25,-186 746.25,-186 746.25,-180 752.25,-174 758.25,-174 758.25,-174 917.5,-174 917.5,-174 923.5,-174 929.5,-180 929.5,-186 929.5,-186 929.5,-198 929.5,-198 929.5,-204 923.5,-210 917.5,-210"/>
<text xml:space="preserve" text-anchor="middle" x="837.88" y="-188.5" font-family="Helvetica,sans-Serif" font-size="10.00">get_all_folders(structure, current_path)</text>
</g>
<!-- file_processing.get_all_folders&#45;&gt;file_processing.get_all_folders -->
<g id="edge17" class="edge">
<title>file_processing.get_all_folders&#45;&gt;file_processing.get_all_folders</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M745.75,-198C732.78,-198 723.75,-198 723.75,-198 723.75,-198 723.75,-224.33 723.75,-224.33 723.75,-224.33 958.75,-224.33 958.75,-224.33 958.75,-224.33 958.75,-192 958.75,-192 958.75,-192 941.92,-192 941.92,-192"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="941.92,-188.5 931.92,-192 941.92,-195.5 941.92,-188.5"/>
</g>
<!-- file_processing.get_directory_structure -->
<g id="node20" class="node">
<title>file_processing.get_directory_structure</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M900.25,-307C900.25,-307 775.5,-307 775.5,-307 769.5,-307 763.5,-301 763.5,-295 763.5,-295 763.5,-283 763.5,-283 763.5,-277 769.5,-271 775.5,-271 775.5,-271 900.25,-271 900.25,-271 906.25,-271 912.25,-277 912.25,-283 912.25,-283 912.25,-295 912.25,-295 912.25,-301 906.25,-307 900.25,-307"/>
<text xml:space="preserve" text-anchor="middle" x="837.88" y="-285.5" font-family="Helvetica,sans-Serif" font-size="10.00">get_directory_structure(rootdir)</text>
</g>
<!-- file_processing.get_directory_structure&#45;&gt;file_processing.get_directory_structure -->
<g id="edge16" class="edge">
<title>file_processing.get_directory_structure&#45;&gt;file_processing.get_directory_structure</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M763.02,-283C757.92,-283 754.75,-283 754.75,-283 754.75,-283 754.75,-265 754.75,-265 754.75,-265 920.75,-265 920.75,-265 920.75,-265 920.75,-280 920.75,-280 920.75,-280 919.96,-280 919.96,-280"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="924.62,-276.5 914.62,-280 924.62,-283.5 924.62,-276.5"/>
</g>
<!-- file_processing.pdf_to_txt -->
<g id="node21" class="node">
<title>file_processing.pdf_to_txt</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M890.88,-52C890.88,-52 784.88,-52 784.88,-52 778.88,-52 772.88,-46 772.88,-40 772.88,-40 772.88,-28 772.88,-28 772.88,-22 778.88,-16 784.88,-16 784.88,-16 890.88,-16 890.88,-16 896.88,-16 902.88,-22 902.88,-28 902.88,-28 902.88,-40 902.88,-40 902.88,-46 896.88,-52 890.88,-52"/>
<text xml:space="preserve" text-anchor="middle" x="837.88" y="-30.5" font-family="Helvetica,sans-Serif" font-size="10.00">pdf_to_txt(root, name_file)</text>
</g>
<!-- file_processing.rename_files_in_directory -->
<g id="node22" class="node">
<title>file_processing.rename_files_in_directory</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M911.12,-131C911.12,-131 764.62,-131 764.62,-131 758.62,-131 752.62,-125 752.62,-119 752.62,-119 752.62,-107 752.62,-107 752.62,-101 758.62,-95 764.62,-95 764.62,-95 911.12,-95 911.12,-95 917.12,-95 923.12,-101 923.12,-107 923.12,-107 923.12,-119 923.12,-119 923.12,-125 917.12,-131 911.12,-131"/>
<text xml:space="preserve" text-anchor="middle" x="837.88" y="-109.5" font-family="Helvetica,sans-Serif" font-size="10.00">rename_files_in_directory(directory)</text>
</g>
<!-- lemmatize.get_lemma -->
<g id="node23" class="node">
<title>lemmatize.get_lemma</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M2542.62,-933C2542.62,-933 2475.62,-933 2475.62,-933 2469.62,-933 2463.62,-927 2463.62,-921 2463.62,-921 2463.62,-909 2463.62,-909 2463.62,-903 2469.62,-897 2475.62,-897 2475.62,-897 2542.62,-897 2542.62,-897 2548.62,-897 2554.62,-903 2554.62,-909 2554.62,-909 2554.62,-921 2554.62,-921 2554.62,-927 2548.62,-933 2542.62,-933"/>
<text xml:space="preserve" text-anchor="middle" x="2509.12" y="-911.5" font-family="Helvetica,sans-Serif" font-size="10.00">get_lemma(word)</text>
</g>
<!-- lemmatize.init_spacy -->
<g id="node24" class="node">
<title>lemmatize.init_spacy</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M2145.62,-775C2145.62,-775 2103.38,-775 2103.38,-775 2097.38,-775 2091.38,-769 2091.38,-763 2091.38,-763 2091.38,-751 2091.38,-751 2091.38,-745 2097.38,-739 2103.38,-739 2103.38,-739 2145.62,-739 2145.62,-739 2151.62,-739 2157.62,-745 2157.62,-751 2157.62,-751 2157.62,-763 2157.62,-763 2157.62,-769 2151.62,-775 2145.62,-775"/>
<text xml:space="preserve" text-anchor="middle" x="2124.5" y="-753.5" font-family="Helvetica,sans-Serif" font-size="10.00">init_spacy()</text>
</g>
<!-- lemmatize.lemmatize_en_paragraph -->
<g id="node25" class="node">
<title>lemmatize.lemmatize_en_paragraph</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M2199.25,-854C2199.25,-854 2049.75,-854 2049.75,-854 2043.75,-854 2037.75,-848 2037.75,-842 2037.75,-842 2037.75,-830 2037.75,-830 2037.75,-824 2043.75,-818 2049.75,-818 2049.75,-818 2199.25,-818 2199.25,-818 2205.25,-818 2211.25,-824 2211.25,-830 2211.25,-830 2211.25,-842 2211.25,-842 2211.25,-848 2205.25,-854 2199.25,-854"/>
<text xml:space="preserve" text-anchor="middle" x="2124.5" y="-832.5" font-family="Helvetica,sans-Serif" font-size="10.00">lemmatize_en_paragraph(paragraph)</text>
</g>
<!-- lemmatize.lemmatize_ru_paragraph -->
<g id="node26" class="node">
<title>lemmatize.lemmatize_ru_paragraph</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M2198.12,-933C2198.12,-933 2050.88,-933 2050.88,-933 2044.88,-933 2038.88,-927 2038.88,-921 2038.88,-921 2038.88,-909 2038.88,-909 2038.88,-903 2044.88,-897 2050.88,-897 2050.88,-897 2198.12,-897 2198.12,-897 2204.12,-897 2210.12,-903 2210.12,-909 2210.12,-909 2210.12,-921 2210.12,-921 2210.12,-927 2204.12,-933 2198.12,-933"/>
<text xml:space="preserve" text-anchor="middle" x="2124.5" y="-911.5" font-family="Helvetica,sans-Serif" font-size="10.00">lemmatize_ru_paragraph(paragraph)</text>
</g>
<!-- lemmatize.lemmatize_ru_paragraph&#45;&gt;lemmatize.get_lemma -->
<g id="edge18" class="edge">
<title>lemmatize.lemmatize_ru_paragraph&#45;&gt;lemmatize.get_lemma</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M2210.82,-915C2210.82,-915 2451.23,-915 2451.23,-915"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="2451.23,-918.5 2461.23,-915 2451.23,-911.5 2451.23,-918.5"/>
</g>
<!-- lemmatize.parallel_lemmatize_mp -->
<g id="node27" class="node">
<title>lemmatize.parallel_lemmatize_mp</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M2225.88,-1012C2225.88,-1012 2023.12,-1012 2023.12,-1012 2017.12,-1012 2011.12,-1006 2011.12,-1000 2011.12,-1000 2011.12,-988 2011.12,-988 2011.12,-982 2017.12,-976 2023.12,-976 2023.12,-976 2225.88,-976 2225.88,-976 2231.88,-976 2237.88,-982 2237.88,-988 2237.88,-988 2237.88,-1000 2237.88,-1000 2237.88,-1006 2231.88,-1012 2225.88,-1012"/>
<text xml:space="preserve" text-anchor="middle" x="2124.5" y="-990.5" font-family="Helvetica,sans-Serif" font-size="10.00">parallel_lemmatize_mp(text, lang, max_workers)</text>
</g>
<!-- lemmatize.split_into_paragraphs -->
<g id="node28" class="node">
<title>lemmatize.split_into_paragraphs</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M2562.5,-1012C2562.5,-1012 2455.75,-1012 2455.75,-1012 2449.75,-1012 2443.75,-1006 2443.75,-1000 2443.75,-1000 2443.75,-988 2443.75,-988 2443.75,-982 2449.75,-976 2455.75,-976 2455.75,-976 2562.5,-976 2562.5,-976 2568.5,-976 2574.5,-982 2574.5,-988 2574.5,-988 2574.5,-1000 2574.5,-1000 2574.5,-1006 2568.5,-1012 2562.5,-1012"/>
<text xml:space="preserve" text-anchor="middle" x="2509.12" y="-990.5" font-family="Helvetica,sans-Serif" font-size="10.00">split_into_paragraphs(text)</text>
</g>
<!-- lemmatize.parallel_lemmatize_mp&#45;&gt;lemmatize.split_into_paragraphs -->
<g id="edge19" class="edge">
<title>lemmatize.parallel_lemmatize_mp&#45;&gt;lemmatize.split_into_paragraphs</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M2238.34,-994C2238.34,-994 2431.5,-994 2431.5,-994"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="2431.5,-997.5 2441.5,-994 2431.5,-990.5 2431.5,-997.5"/>
</g>
<!-- main.algo_DSU -->
<g id="node29" class="node">
<title>main.algo_DSU</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1315.62,-1115C1315.62,-1115 1129.38,-1115 1129.38,-1115 1123.38,-1115 1117.38,-1109 1117.38,-1103 1117.38,-1103 1117.38,-1091 1117.38,-1091 1117.38,-1085 1123.38,-1079 1129.38,-1079 1129.38,-1079 1315.62,-1079 1315.62,-1079 1321.62,-1079 1327.62,-1085 1327.62,-1091 1327.62,-1091 1327.62,-1103 1327.62,-1103 1327.62,-1109 1321.62,-1115 1315.62,-1115"/>
<text xml:space="preserve" text-anchor="middle" x="1222.5" y="-1093.5" font-family="Helvetica,sans-Serif" font-size="10.00">algo_DSU(sorted_analysand, length_groups)</text>
</g>
<!-- main.close_enough -->
<g id="node31" class="node">
<title>main.close_enough</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1710.75,-1185C1710.75,-1185 1642.25,-1185 1642.25,-1185 1636.25,-1185 1630.25,-1179 1630.25,-1173 1630.25,-1173 1630.25,-1161 1630.25,-1161 1630.25,-1155 1636.25,-1149 1642.25,-1149 1642.25,-1149 1710.75,-1149 1710.75,-1149 1716.75,-1149 1722.75,-1155 1722.75,-1161 1722.75,-1161 1722.75,-1173 1722.75,-1173 1722.75,-1179 1716.75,-1185 1710.75,-1185"/>
<text xml:space="preserve" text-anchor="middle" x="1676.5" y="-1163.5" font-family="Helvetica,sans-Serif" font-size="10.00">close_enough(i, j)</text>
</g>
<!-- main.algo_DSU&#45;&gt;main.close_enough -->
<g id="edge36" class="edge">
<title>main.algo_DSU&#45;&gt;main.close_enough</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M1328.09,-1110.5C1451.12,-1110.5 1637.75,-1110.5 1637.75,-1110.5 1637.75,-1110.5 1637.75,-1136.68 1637.75,-1136.68"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="1634.25,-1136.68 1637.75,-1146.68 1641.25,-1136.68 1634.25,-1136.68"/>
</g>
<!-- main.union -->
<g id="node40" class="node">
<title>main.union</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1695.38,-1106C1695.38,-1106 1657.62,-1106 1657.62,-1106 1651.62,-1106 1645.62,-1100 1645.62,-1094 1645.62,-1094 1645.62,-1082 1645.62,-1082 1645.62,-1076 1651.62,-1070 1657.62,-1070 1657.62,-1070 1695.38,-1070 1695.38,-1070 1701.38,-1070 1707.38,-1076 1707.38,-1082 1707.38,-1082 1707.38,-1094 1707.38,-1094 1707.38,-1100 1701.38,-1106 1695.38,-1106"/>
<text xml:space="preserve" text-anchor="middle" x="1676.5" y="-1084.5" font-family="Helvetica,sans-Serif" font-size="10.00">union(u, v)</text>
</g>
<!-- main.algo_DSU&#45;&gt;main.union -->
<g id="edge37" class="edge">
<title>main.algo_DSU&#45;&gt;main.union</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M1328.08,-1092.5C1328.08,-1092.5 1633.16,-1092.5 1633.16,-1092.5"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="1633.16,-1096 1643.16,-1092.5 1633.16,-1089 1633.16,-1096"/>
</g>
<!-- main.algo_cleaner -->
<g id="node30" class="node">
<title>main.algo_cleaner</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M958.75,-1224C958.75,-1224 717,-1224 717,-1224 711,-1224 705,-1218 705,-1212 705,-1212 705,-1200 705,-1200 705,-1194 711,-1188 717,-1188 717,-1188 958.75,-1188 958.75,-1188 964.75,-1188 970.75,-1194 970.75,-1200 970.75,-1200 970.75,-1212 970.75,-1212 970.75,-1218 964.75,-1224 958.75,-1224"/>
<text xml:space="preserve" text-anchor="middle" x="837.88" y="-1208.5" font-family="Helvetica,sans-Serif" font-size="10.00">algo_cleaner(sorted_analysand)</text>
<text xml:space="preserve" text-anchor="middle" x="837.88" y="-1196.5" font-family="Helvetica,sans-Serif" font-size="10.00">Group similar words conservatively and sum frequencies.</text>
</g>
<!-- main.algo_cleaner&#45;&gt;main.algo_DSU -->
<g id="edge33" class="edge">
<title>main.algo_cleaner&#45;&gt;main.algo_DSU</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M971.39,-1204C1047.86,-1204 1128.75,-1204 1128.75,-1204 1128.75,-1204 1128.75,-1127.45 1128.75,-1127.45"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="1132.25,-1127.45 1128.75,-1117.45 1125.25,-1127.45 1132.25,-1127.45"/>
</g>
<!-- main.find_dsu -->
<g id="node33" class="node">
<title>main.find_dsu</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1242.5,-1194C1242.5,-1194 1202.5,-1194 1202.5,-1194 1196.5,-1194 1190.5,-1188 1190.5,-1182 1190.5,-1182 1190.5,-1170 1190.5,-1170 1190.5,-1164 1196.5,-1158 1202.5,-1158 1202.5,-1158 1242.5,-1158 1242.5,-1158 1248.5,-1158 1254.5,-1164 1254.5,-1170 1254.5,-1170 1254.5,-1182 1254.5,-1182 1254.5,-1188 1248.5,-1194 1242.5,-1194"/>
<text xml:space="preserve" text-anchor="middle" x="1222.5" y="-1172.5" font-family="Helvetica,sans-Serif" font-size="10.00">find_dsu(u)</text>
</g>
<!-- main.algo_cleaner&#45;&gt;main.find_dsu -->
<g id="edge35" class="edge">
<title>main.algo_cleaner&#45;&gt;main.find_dsu</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M942.75,-1187.57C942.75,-1184.34 942.75,-1182 942.75,-1182 942.75,-1182 1178.05,-1182 1178.05,-1182"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="1178.05,-1185.5 1188.05,-1182 1178.05,-1178.5 1178.05,-1185.5"/>
</g>
<!-- main.is_similar -->
<g id="node35" class="node">
<title>main.is_similar</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1292.75,-1273C1292.75,-1273 1152.25,-1273 1152.25,-1273 1146.25,-1273 1140.25,-1267 1140.25,-1261 1140.25,-1261 1140.25,-1249 1140.25,-1249 1140.25,-1243 1146.25,-1237 1152.25,-1237 1152.25,-1237 1292.75,-1237 1292.75,-1237 1298.75,-1237 1304.75,-1243 1304.75,-1249 1304.75,-1249 1304.75,-1261 1304.75,-1261 1304.75,-1267 1298.75,-1273 1292.75,-1273"/>
<text xml:space="preserve" text-anchor="middle" x="1222.5" y="-1251.5" font-family="Helvetica,sans-Serif" font-size="10.00">is_similar(main_word, other_word)</text>
</g>
<!-- main.algo_cleaner&#45;&gt;main.is_similar -->
<g id="edge34" class="edge">
<title>main.algo_cleaner&#45;&gt;main.is_similar</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M971.23,-1214C1062.01,-1214 1165.75,-1214 1165.75,-1214 1165.75,-1214 1165.75,-1224.6 1165.75,-1224.6"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="1162.25,-1224.6 1165.75,-1234.6 1169.25,-1224.6 1162.25,-1224.6"/>
</g>
<!-- main.find -->
<g id="node32" class="node">
<title>main.find</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M2139.5,-1106C2139.5,-1106 2109.5,-1106 2109.5,-1106 2103.5,-1106 2097.5,-1100 2097.5,-1094 2097.5,-1094 2097.5,-1082 2097.5,-1082 2097.5,-1076 2103.5,-1070 2109.5,-1070 2109.5,-1070 2139.5,-1070 2139.5,-1070 2145.5,-1070 2151.5,-1076 2151.5,-1082 2151.5,-1082 2151.5,-1094 2151.5,-1094 2151.5,-1100 2145.5,-1106 2139.5,-1106"/>
<text xml:space="preserve" text-anchor="middle" x="2124.5" y="-1084.5" font-family="Helvetica,sans-Serif" font-size="10.00">find(u)</text>
</g>
<!-- main.initialize_all_databases -->
<g id="node34" class="node">
<title>main.initialize_all_databases</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M342.88,-1097C342.88,-1097 29.12,-1097 29.12,-1097 23.12,-1097 17.12,-1091 17.12,-1085 17.12,-1085 17.12,-1073 17.12,-1073 17.12,-1067 23.12,-1061 29.12,-1061 29.12,-1061 342.88,-1061 342.88,-1061 348.88,-1061 354.88,-1067 354.88,-1073 354.88,-1073 354.88,-1085 354.88,-1085 354.88,-1091 348.88,-1097 342.88,-1097"/>
<text xml:space="preserve" text-anchor="middle" x="186" y="-1081.5" font-family="Helvetica,sans-Serif" font-size="10.00">initialize_all_databases()</text>
<text xml:space="preserve" text-anchor="middle" x="186" y="-1069.5" font-family="Helvetica,sans-Serif" font-size="10.00">Initialize processed_books tables for every category found under book/txt.</text>
</g>
<!-- main.initialize_all_databases&#45;&gt;database_operations.create_processed_books_table -->
<g id="edge20" class="edge">
<title>main.initialize_all_databases&#45;&gt;database_operations.create_processed_books_table</title>
<path fill="none" stroke="#0f172a" stroke-width="1.4" d="M185.75,-1060.67C185.75,-937.78 185.75,-238.67 185.75,-238.67 185.75,-238.67 1586.75,-238.67 1586.75,-238.67 1586.75,-238.67 1586.75,-64.64 1586.75,-64.64"/>
<polygon fill="#0f172a" stroke="#0f172a" stroke-width="1.4" points="1590.25,-64.64 1586.75,-54.64 1583.25,-64.64 1590.25,-64.64"/>
</g>
<!-- main.normalize_category -->
<g id="node37" class="node">
<title>main.normalize_category</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M582,-1097C582,-1097 475.25,-1097 475.25,-1097 469.25,-1097 463.25,-1091 463.25,-1085 463.25,-1085 463.25,-1073 463.25,-1073 463.25,-1067 469.25,-1061 475.25,-1061 475.25,-1061 582,-1061 582,-1061 588,-1061 594,-1067 594,-1073 594,-1073 594,-1085 594,-1085 594,-1091 588,-1097 582,-1097"/>
<text xml:space="preserve" text-anchor="middle" x="528.62" y="-1075.5" font-family="Helvetica,sans-Serif" font-size="10.00">normalize_category(name)</text>
</g>
<!-- main.initialize_all_databases&#45;&gt;main.normalize_category -->
<g id="edge21" class="edge">
<title>main.initialize_all_databases&#45;&gt;main.normalize_category</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M355.56,-1079C355.56,-1079 450.77,-1079 450.77,-1079"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="450.77,-1082.5 460.77,-1079 450.77,-1075.5 450.77,-1082.5"/>
</g>
<!-- main.main -->
<g id="node36" class="node">
<title>main.main</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M233.75,-1176C233.75,-1176 138.25,-1176 138.25,-1176 132.25,-1176 126.25,-1170 126.25,-1164 126.25,-1164 126.25,-1152 126.25,-1152 126.25,-1146 132.25,-1140 138.25,-1140 138.25,-1140 233.75,-1140 233.75,-1140 239.75,-1140 245.75,-1146 245.75,-1152 245.75,-1152 245.75,-1164 245.75,-1164 245.75,-1170 239.75,-1176 233.75,-1176"/>
<text xml:space="preserve" text-anchor="middle" x="186" y="-1154.5" font-family="Helvetica,sans-Serif" font-size="10.00">main(rootdir, start_num)</text>
</g>
<!-- main.main&#45;&gt;file_processing.pdf_to_txt -->
<g id="edge40" class="edge">
<title>main.main&#45;&gt;file_processing.pdf_to_txt</title>
<path fill="none" stroke="#0f172a" stroke-width="1.4" d="M246.44,-1147.2C301.32,-1147.2 373.75,-1147.2 373.75,-1147.2 373.75,-1147.2 373.75,-34 373.75,-34 373.75,-34 760.24,-34 760.24,-34"/>
<polygon fill="#0f172a" stroke="#0f172a" stroke-width="1.4" points="760.24,-37.5 770.24,-34 760.24,-30.5 760.24,-37.5"/>
</g>
<!-- main.main&#45;&gt;file_processing.rename_files_in_directory -->
<g id="edge41" class="edge">
<title>main.main&#45;&gt;file_processing.rename_files_in_directory</title>
<path fill="none" stroke="#0f172a" stroke-width="1.4" d="M246.34,-1154.4C307.05,-1154.4 391.75,-1154.4 391.75,-1154.4 391.75,-1154.4 391.75,-113 391.75,-113 391.75,-113 740,-113 740,-113"/>
<polygon fill="#0f172a" stroke="#0f172a" stroke-width="1.4" points="740,-116.5 750,-113 740,-109.5 740,-116.5"/>
</g>
<!-- main.print_all_files_from_rootdir -->
<g id="node38" class="node">
<title>main.print_all_files_from_rootdir</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M584.62,-1176C584.62,-1176 472.62,-1176 472.62,-1176 466.62,-1176 460.62,-1170 460.62,-1164 460.62,-1164 460.62,-1152 460.62,-1152 460.62,-1146 466.62,-1140 472.62,-1140 472.62,-1140 584.62,-1140 584.62,-1140 590.62,-1140 596.62,-1146 596.62,-1152 596.62,-1152 596.62,-1164 596.62,-1164 596.62,-1170 590.62,-1176 584.62,-1176"/>
<text xml:space="preserve" text-anchor="middle" x="528.62" y="-1154.5" font-family="Helvetica,sans-Serif" font-size="10.00">print_all_files_from_rootdir()</text>
</g>
<!-- main.main&#45;&gt;main.print_all_files_from_rootdir -->
<g id="edge42" class="edge">
<title>main.main&#45;&gt;main.print_all_files_from_rootdir</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M246.07,-1161.6C246.07,-1161.6 448.26,-1161.6 448.26,-1161.6"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="448.26,-1165.1 458.26,-1161.6 448.26,-1158.1 448.26,-1165.1"/>
</g>
<!-- main.reqursion -->
<g id="node39" class="node">
<title>main.reqursion</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M617.25,-1255C617.25,-1255 440,-1255 440,-1255 434,-1255 428,-1249 428,-1243 428,-1243 428,-1231 428,-1231 428,-1225 434,-1219 440,-1219 440,-1219 617.25,-1219 617.25,-1219 623.25,-1219 629.25,-1225 629.25,-1231 629.25,-1231 629.25,-1243 629.25,-1243 629.25,-1249 623.25,-1255 617.25,-1255"/>
<text xml:space="preserve" text-anchor="middle" x="528.62" y="-1233.5" font-family="Helvetica,sans-Serif" font-size="10.00">reqursion(all_files_from_rootdir, start_num)</text>
</g>
<!-- main.main&#45;&gt;main.reqursion -->
<g id="edge39" class="edge">
<title>main.main&#45;&gt;main.reqursion</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M246.34,-1168.8C322.8,-1168.8 444.75,-1168.8 444.75,-1168.8 444.75,-1168.8 444.75,-1206.55 444.75,-1206.55"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="441.25,-1206.55 444.75,-1216.55 448.25,-1206.55 441.25,-1206.55"/>
</g>
<!-- main.print_all_files_from_rootdir&#45;&gt;file_processing.get_all_folders -->
<g id="edge22" class="edge">
<title>main.print_all_files_from_rootdir&#45;&gt;file_processing.get_all_folders</title>
<path fill="none" stroke="#0f172a" stroke-width="1.4" d="M597.22,-1146C625.93,-1146 652.75,-1146 652.75,-1146 652.75,-1146 652.75,-186 652.75,-186 652.75,-186 733.46,-186 733.46,-186"/>
<polygon fill="#0f172a" stroke="#0f172a" stroke-width="1.4" points="733.46,-189.5 743.46,-186 733.46,-182.5 733.46,-189.5"/>
</g>
<!-- main.print_all_files_from_rootdir&#45;&gt;file_processing.get_directory_structure -->
<g id="edge23" class="edge">
<title>main.print_all_files_from_rootdir&#45;&gt;file_processing.get_directory_structure</title>
<path fill="none" stroke="#0f172a" stroke-width="1.4" d="M597.17,-1143C601.85,-1143 604.75,-1143 604.75,-1143 604.75,-1143 604.75,-295 604.75,-295 604.75,-295 750.71,-295 750.71,-295"/>
<polygon fill="#0f172a" stroke="#0f172a" stroke-width="1.4" points="750.71,-298.5 760.71,-295 750.71,-291.5 750.71,-298.5"/>
</g>
<!-- main.reqursion&#45;&gt;database_aggregation.create_intersection_table -->
<g id="edge27" class="edge">
<title>main.reqursion&#45;&gt;database_aggregation.create_intersection_table</title>
<path fill="none" stroke="#0f172a" stroke-width="1.4" d="M608.75,-1218.49C608.75,-1101.82 608.75,-473 608.75,-473 608.75,-473 689.49,-473 689.49,-473"/>
<polygon fill="#0f172a" stroke="#0f172a" stroke-width="1.4" points="689.49,-476.5 699.49,-473 689.49,-469.5 689.49,-476.5"/>
</g>
<!-- main.reqursion&#45;&gt;database_aggregation.create_union_table -->
<g id="edge26" class="edge">
<title>main.reqursion&#45;&gt;database_aggregation.create_union_table</title>
<path fill="none" stroke="#0f172a" stroke-width="1.4" d="M616.75,-1218.32C616.75,-1108.54 616.75,-552 616.75,-552 616.75,-552 688.54,-552 688.54,-552"/>
<polygon fill="#0f172a" stroke="#0f172a" stroke-width="1.4" points="688.54,-555.5 698.54,-552 688.54,-548.5 688.54,-555.5"/>
</g>
<!-- main.reqursion&#45;&gt;database_operations.insert_many_into_table -->
<g id="edge30" class="edge">
<title>main.reqursion&#45;&gt;database_operations.insert_many_into_table</title>
<path fill="none" stroke="#0f172a" stroke-width="1.4" d="M600.75,-1218.34C600.75,-1083.13 600.75,-259 600.75,-259 600.75,-259 1088.29,-259 1088.29,-259"/>
<polygon fill="#0f172a" stroke="#0f172a" stroke-width="1.4" points="1088.29,-262.5 1098.29,-259 1088.29,-255.5 1088.29,-262.5"/>
</g>
<!-- main.reqursion&#45;&gt;database_operations.is_book_processed -->
<g id="edge25" class="edge">
<title>main.reqursion&#45;&gt;database_operations.is_book_processed</title>
<path fill="none" stroke="#0f172a" stroke-width="1.4" d="M629.77,-1228.33C767.94,-1228.33 998.75,-1228.33 998.75,-1228.33 998.75,-1228.33 998.75,-34 998.75,-34 998.75,-34 1067.73,-34 1067.73,-34"/>
<polygon fill="#0f172a" stroke="#0f172a" stroke-width="1.4" points="1067.73,-37.5 1077.73,-34 1067.73,-30.5 1067.73,-37.5"/>
</g>
<!-- main.reqursion&#45;&gt;database_operations.mark_book_as_processed -->
<g id="edge32" class="edge">
<title>main.reqursion&#45;&gt;database_operations.mark_book_as_processed</title>
<path fill="none" stroke="#0f172a" stroke-width="1.4" d="M629.81,-1232.67C774.37,-1232.67 1022.75,-1232.67 1022.75,-1232.67 1022.75,-1232.67 1022.75,-113 1022.75,-113 1022.75,-113 1068.41,-113 1068.41,-113"/>
<polygon fill="#0f172a" stroke="#0f172a" stroke-width="1.4" points="1068.41,-116.5 1078.41,-113 1068.41,-109.5 1068.41,-116.5"/>
</g>
<!-- main.reqursion&#45;&gt;database_operations.select_from_table -->
<g id="edge29" class="edge">
<title>main.reqursion&#45;&gt;database_operations.select_from_table</title>
<path fill="none" stroke="#0f172a" stroke-width="1.4" d="M612.75,-1218.63C612.75,-1105.52 612.75,-508.5 612.75,-508.5 612.75,-508.5 1121.07,-508.5 1121.07,-508.5"/>
<polygon fill="#0f172a" stroke="#0f172a" stroke-width="1.4" points="1121.07,-512 1131.07,-508.5 1121.07,-505 1121.07,-512"/>
</g>
<!-- main.reqursion&#45;&gt;main.algo_cleaner -->
<g id="edge31" class="edge">
<title>main.reqursion&#45;&gt;main.algo_cleaner</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M624.75,-1218.68C624.75,-1210.86 624.75,-1203.5 624.75,-1203.5 624.75,-1203.5 692.6,-1203.5 692.6,-1203.5"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="692.6,-1207 702.6,-1203.5 692.6,-1200 692.6,-1207"/>
</g>
<!-- main.reqursion&#45;&gt;main.reqursion -->
<g id="edge24" class="edge">
<title>main.reqursion&#45;&gt;main.reqursion</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M427.55,-1237C416.84,-1237 409.75,-1237 409.75,-1237 409.75,-1237 409.75,-1264 409.75,-1264 409.75,-1264 676.75,-1264 676.75,-1264 676.75,-1264 676.75,-1246 676.75,-1246 676.75,-1246 641.7,-1246 641.7,-1246"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="641.7,-1242.5 631.7,-1246 641.7,-1249.5 641.7,-1242.5"/>
</g>
<!-- text_analysis.analysand_func_dict -->
<g id="node41" class="node">
<title>text_analysis.analysand_func_dict</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M902.5,-933C902.5,-933 773.25,-933 773.25,-933 767.25,-933 761.25,-927 761.25,-921 761.25,-921 761.25,-909 761.25,-909 761.25,-903 767.25,-897 773.25,-897 773.25,-897 902.5,-897 902.5,-897 908.5,-897 914.5,-903 914.5,-909 914.5,-909 914.5,-921 914.5,-921 914.5,-927 908.5,-933 902.5,-933"/>
<text xml:space="preserve" text-anchor="middle" x="837.88" y="-911.5" font-family="Helvetica,sans-Serif" font-size="10.00">analysand_func_dict(name_file)</text>
</g>
<!-- main.reqursion&#45;&gt;text_analysis.analysand_func_dict -->
<g id="edge28" class="edge">
<title>main.reqursion&#45;&gt;text_analysis.analysand_func_dict</title>
<path fill="none" stroke="#0f172a" stroke-width="1.4" d="M620.75,-1218.77C620.75,-1150.65 620.75,-915 620.75,-915 620.75,-915 748.59,-915 748.59,-915"/>
<polygon fill="#0f172a" stroke="#0f172a" stroke-width="1.4" points="748.59,-918.5 758.59,-915 748.59,-911.5 748.59,-918.5"/>
</g>
<!-- main.union&#45;&gt;main.find -->
<g id="edge38" class="edge">
<title>main.union&#45;&gt;main.find</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M1708,-1088C1708,-1088 2084.99,-1088 2084.99,-1088"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="2084.99,-1091.5 2094.99,-1088 2084.99,-1084.5 2084.99,-1091.5"/>
</g>
<!-- text_analysis.get_txt_file -->
<g id="node43" class="node">
<title>text_analysis.get_txt_file</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1266.5,-933C1266.5,-933 1178.5,-933 1178.5,-933 1172.5,-933 1166.5,-927 1166.5,-921 1166.5,-921 1166.5,-909 1166.5,-909 1166.5,-903 1172.5,-897 1178.5,-897 1178.5,-897 1266.5,-897 1266.5,-897 1272.5,-897 1278.5,-903 1278.5,-909 1278.5,-909 1278.5,-921 1278.5,-921 1278.5,-927 1272.5,-933 1266.5,-933"/>
<text xml:space="preserve" text-anchor="middle" x="1222.5" y="-911.5" font-family="Helvetica,sans-Serif" font-size="10.00">get_txt_file(name_file)</text>
</g>
<!-- text_analysis.analysand_func_dict&#45;&gt;text_analysis.get_txt_file -->
<g id="edge46" class="edge">
<title>text_analysis.analysand_func_dict&#45;&gt;text_analysis.get_txt_file</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M914.79,-915C914.79,-915 1154.19,-915 1154.19,-915"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="1154.19,-918.5 1164.19,-915 1154.19,-911.5 1154.19,-918.5"/>
</g>
<!-- text_analysis.fix_hyphenated_words -->
<g id="node42" class="node">
<title>text_analysis.fix_hyphenated_words</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1817.25,-1012C1817.25,-1012 1535.75,-1012 1535.75,-1012 1529.75,-1012 1523.75,-1006 1523.75,-1000 1523.75,-1000 1523.75,-988 1523.75,-988 1523.75,-982 1529.75,-976 1535.75,-976 1535.75,-976 1817.25,-976 1817.25,-976 1823.25,-976 1829.25,-982 1829.25,-988 1829.25,-988 1829.25,-1000 1829.25,-1000 1829.25,-1006 1823.25,-1012 1817.25,-1012"/>
<text xml:space="preserve" text-anchor="middle" x="1676.5" y="-996.5" font-family="Helvetica,sans-Serif" font-size="10.00">fix_hyphenated_words(text)</text>
<text xml:space="preserve" text-anchor="middle" x="1676.5" y="-984.5" font-family="Helvetica,sans-Serif" font-size="10.00">Объединяет слова, разделенные переносом на разные строки.</text>
</g>
<!-- text_analysis.get_txt_file&#45;&gt;text_analysis.fix_hyphenated_words -->
<g id="edge45" class="edge">
<title>text_analysis.get_txt_file&#45;&gt;text_analysis.fix_hyphenated_words</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M1279.1,-921C1373.24,-921 1551.75,-921 1551.75,-921 1551.75,-921 1551.75,-963.76 1551.75,-963.76"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="1548.25,-963.76 1551.75,-973.76 1555.25,-963.76 1548.25,-963.76"/>
</g>
<!-- text_analysis.removing_anomaly -->
<g id="node45" class="node">
<title>text_analysis.removing_anomaly</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M1762.12,-933C1762.12,-933 1590.88,-933 1590.88,-933 1584.88,-933 1578.88,-927 1578.88,-921 1578.88,-921 1578.88,-909 1578.88,-909 1578.88,-903 1584.88,-897 1590.88,-897 1590.88,-897 1762.12,-897 1762.12,-897 1768.12,-897 1774.12,-903 1774.12,-909 1774.12,-909 1774.12,-921 1774.12,-921 1774.12,-927 1768.12,-933 1762.12,-933"/>
<text xml:space="preserve" text-anchor="middle" x="1676.5" y="-911.5" font-family="Helvetica,sans-Serif" font-size="10.00">removing_anomaly(text_from_book, lang)</text>
</g>
<!-- text_analysis.get_txt_file&#45;&gt;text_analysis.removing_anomaly -->
<g id="edge44" class="edge">
<title>text_analysis.get_txt_file&#45;&gt;text_analysis.removing_anomaly</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M1279.08,-909C1279.08,-909 1566.71,-909 1566.71,-909"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="1566.71,-912.5 1576.71,-909 1566.71,-905.5 1566.71,-912.5"/>
</g>
<!-- text_analysis.merge_words -->
<g id="node44" class="node">
<title>text_analysis.merge_words</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M879.62,-1012C879.62,-1012 796.12,-1012 796.12,-1012 790.12,-1012 784.12,-1006 784.12,-1000 784.12,-1000 784.12,-988 784.12,-988 784.12,-982 790.12,-976 796.12,-976 796.12,-976 879.62,-976 879.62,-976 885.62,-976 891.62,-982 891.62,-988 891.62,-988 891.62,-1000 891.62,-1000 891.62,-1006 885.62,-1012 879.62,-1012"/>
<text xml:space="preserve" text-anchor="middle" x="837.88" y="-990.5" font-family="Helvetica,sans-Serif" font-size="10.00">merge_words(match)</text>
</g>
<!-- text_analysis.removing_anomaly&#45;&gt;lemmatize.parallel_lemmatize_mp -->
<g id="edge43" class="edge">
<title>text_analysis.removing_anomaly&#45;&gt;lemmatize.parallel_lemmatize_mp</title>
<path fill="none" stroke="#0f172a" stroke-width="1.4" d="M1774.51,-915C1876.58,-915 2021.75,-915 2021.75,-915 2021.75,-915 2021.75,-963.56 2021.75,-963.56"/>
<polygon fill="#0f172a" stroke="#0f172a" stroke-width="1.4" points="2018.25,-963.56 2021.75,-973.56 2025.25,-963.56 2018.25,-963.56"/>
</g>
<!-- translation_utils.detect_language -->
<g id="node46" class="node">
<title>translation_utils.detect_language</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M2282.5,-611C2282.5,-611 1966.5,-611 1966.5,-611 1960.5,-611 1954.5,-605 1954.5,-599 1954.5,-599 1954.5,-587 1954.5,-587 1954.5,-581 1960.5,-575 1966.5,-575 1966.5,-575 2282.5,-575 2282.5,-575 2288.5,-575 2294.5,-581 2294.5,-587 2294.5,-587 2294.5,-599 2294.5,-599 2294.5,-605 2288.5,-611 2282.5,-611"/>
<text xml:space="preserve" text-anchor="middle" x="2124.5" y="-595.5" font-family="Helvetica,sans-Serif" font-size="10.00">detect_language(word)</text>
<text xml:space="preserve" text-anchor="middle" x="2124.5" y="-583.5" font-family="Helvetica,sans-Serif" font-size="10.00">Определяет язык: если есть кириллица — русский, иначе английский.</text>
</g>
<!-- translation_utils.send_batch -->
<g id="node47" class="node">
<title>translation_utils.send_batch</title>
<path fill="#bfdbfe" stroke="#1f2937" stroke-width="1.4" d="M2204.88,-690C2204.88,-690 2044.12,-690 2044.12,-690 2038.12,-690 2032.12,-684 2032.12,-678 2032.12,-678 2032.12,-666 2032.12,-666 2032.12,-660 2038.12,-654 2044.12,-654 2044.12,-654 2204.88,-654 2204.88,-654 2210.88,-654 2216.88,-660 2216.88,-666 2216.88,-666 2216.88,-678 2216.88,-678 2216.88,-684 2210.88,-690 2204.88,-690"/>
<text xml:space="preserve" text-anchor="middle" x="2124.5" y="-668.5" font-family="Helvetica,sans-Serif" font-size="10.00">send_batch(texts, target_lang, indices)</text>
</g>
<!-- translation_utils.translate_batch&#45;&gt;translation_utils.detect_language -->
<g id="edge48" class="edge">
<title>translation_utils.translate_batch&#45;&gt;translation_utils.detect_language</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M1883.12,-593C1883.12,-593 1942.26,-593 1942.26,-593"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="1942.26,-596.5 1952.26,-593 1942.26,-589.5 1942.26,-596.5"/>
</g>
<!-- translation_utils.translate_batch&#45;&gt;translation_utils.send_batch -->
<g id="edge47" class="edge">
<title>translation_utils.translate_batch&#45;&gt;translation_utils.send_batch</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M1855.75,-611.32C1855.75,-634.66 1855.75,-672 1855.75,-672 1855.75,-672 2019.82,-672 2019.82,-672"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="2019.82,-675.5 2029.82,-672 2019.82,-668.5 2019.82,-675.5"/>
</g>
<!-- legend_fn -->
<g id="node49" class="node">
<title>legend_fn</title>
<polygon fill="#fef3c7" stroke="#1f2937" stroke-width="1.4" points="217.62,-1443 148.38,-1443 148.38,-1407 223.62,-1407 223.62,-1437 217.62,-1443"/>
<polyline fill="none" stroke="#1f2937" stroke-width="1.4" points="217.62,-1443 217.62,-1437"/>
<polyline fill="none" stroke="#1f2937" stroke-width="1.4" points="223.62,-1437 217.62,-1437"/>
<text xml:space="preserve" text-anchor="middle" x="186" y="-1427.5" font-family="Helvetica,sans-Serif" font-size="10.00">function(args)</text>
<text xml:space="preserve" text-anchor="middle" x="186" y="-1415.5" font-family="Helvetica,sans-Serif" font-size="10.00">[first doc line]</text>
</g>
<!-- legend_call -->
<g id="node50" class="node">
<title>legend_call</title>
<path fill="#e5e7eb" stroke="none" stroke-width="1.4" d="M544.12,-1443C544.12,-1443 513.12,-1443 513.12,-1443 507.12,-1443 501.12,-1437 501.12,-1431 501.12,-1431 501.12,-1419 501.12,-1419 501.12,-1413 507.12,-1407 513.12,-1407 513.12,-1407 544.12,-1407 544.12,-1407 550.12,-1407 556.12,-1413 556.12,-1419 556.12,-1419 556.12,-1431 556.12,-1431 556.12,-1437 550.12,-1443 544.12,-1443"/>
<text xml:space="preserve" text-anchor="middle" x="528.62" y="-1421.5" font-family="Helvetica,sans-Serif" font-size="10.00">call edge</text>
</g>
<!-- legend_fn&#45;&gt;legend_call -->
<g id="edge49" class="edge">
<title>legend_fn&#45;&gt;legend_call</title>
<path fill="none" stroke="#4b5563" stroke-width="1.2" d="M224.31,-1425C224.31,-1425 489.52,-1425 489.52,-1425"/>
<polygon fill="#4b5563" stroke="#4b5563" stroke-width="1.2" points="489.52,-1428.5 499.52,-1425 489.52,-1421.5 489.52,-1428.5"/>
</g>
</g>
</svg>
